{% extends 'base.html' %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="card shadow-lg border-0 rounded-lg overflow-hidden">
                <div class="card-body p-0">
                    <div class="row g-0">
                        <!-- Left side illustration -->
                        <div class="col-lg-5 bg-primary d-flex flex-column justify-content-center align-items-center text-white p-5" style="background: linear-gradient(135deg, #696cff 0%, #5a5fe0 100%);">
                            <div class="text-center mb-4">
                                <div class="display-1 fw-bold mb-3 error-code">403</div>
                                <h3 class="h4 mb-4">Access Denied</h3>
                                <p class="mb-4 opacity-75">You don't have permission to access this area. Please contact your manager for access.</p>
                                <div class="mt-4">
                                    <a href="{% url 'home' %}" class="btn btn-outline-light btn-lg px-4 fw-medium">
                                        <i class="fas fa-home me-2"></i> Go to Dashboard
                                    </a>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right side animation -->
                        <div class="col-lg-7 p-5 d-flex flex-column justify-content-center">
                            <div class="text-center">
                                <!-- Animated SVG Illustration -->
                                <div class="error-animation mb-4">
                                    <svg width="280" height="280" viewBox="0 0 500 500" class="img-fluid">
                                        <!-- Shield background -->
                                        <path d="M250 80 C350 80 400 130 400 220 C400 350 300 400 250 420 C200 400 100 350 100 220 C100 130 150 80 250 80 Z" 
                                              fill="#f0f2fa" stroke="#e0e4f4" stroke-width="2"/>
                                        
                                        <!-- Lock body -->
                                        <rect x="175" y="220" width="150" height="120" rx="10" fill="#696cff" class="lock-body"/>
                                        
                                        <!-- Lock shackle -->
                                        <path d="M200 220 L200 170 C200 130 300 130 300 170 L300 220" 
                                              fill="none" stroke="#696cff" stroke-width="25" stroke-linecap="round" class="lock-shackle"/>
                                        
                                        <!-- Keyhole -->
                                        <circle cx="250" cy="270" r="20" fill="white" opacity="0.3"/>
                                        <path d="M250 260 L250 280 M245 280 L255 280" stroke="white" stroke-width="5" stroke-linecap="round"/>
                                        
                                        <!-- Warning sign -->
                                        <g class="warning-sign">
                                            <circle cx="370" cy="150" r="40" fill="#ff6b6b" opacity="0.9"/>
                                            <text x="370" y="165" font-family="Arial" font-size="50" fill="white" text-anchor="middle" font-weight="bold">!</text>
                                        </g>
                                        
                                        <!-- Text bubble -->
                                        <path d="M320 190 Q350 170 380 190 L380 230 Q350 250 320 230 Z" 
                                              fill="white" stroke="#5D6B82" stroke-width="2" class="text-bubble"/>
                                        <text x="350" y="215" font-family="Arial" font-size="12" fill="#5D6B82" text-anchor="middle">Ask your manager!</text>
                                    </svg>
                                </div>
                                
                                <h4 class="mb-3">Permission Required</h4>
                                <p class="text-muted mb-4">This area is restricted. You need proper authorization to access this resource.</p>
                                
                                {% if exception %}
                                <div class="alert alert-light mt-3 text-start" style="background: #f8f9fc; border-left: 4px solid #696cff; padding: 1rem;">
                                    <small class="text-muted">Technical details: {{ exception }}</small>
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .error-code {
        font-size: 5rem;
        font-weight: 800;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }
    
    .error-animation .lock-body {
        animation: pulse 2s ease-in-out infinite;
        transform-origin: center;
    }
    
    .error-animation .lock-shackle {
        animation: wiggle 5s ease-in-out infinite;
        transform-origin: 250px 170px;
    }
    
    .error-animation .warning-sign {
        animation: float 3s ease-in-out infinite;
        transform-origin: center;
    }
    
    .error-animation .text-bubble {
        animation: float 4s ease-in-out infinite;
        transform-origin: center;
        animation-delay: 1s;
    }
    
    @keyframes wiggle {
        0%, 100% {
            transform: rotate(0deg);
        }
        25% {
            transform: rotate(-5deg);
        }
        75% {
            transform: rotate(5deg);
        }
    }
    
    @keyframes float {
        0%, 100% {
            transform: translateY(0);
        }
        50% {
            transform: translateY(-10px);
        }
    }
    
    @keyframes pulse {
        0%, 100% {
            opacity: 0.9;
            transform: scale(1);
        }
        50% {
            opacity: 0.8;
            transform: scale(0.98);
        }
    }
    
    .btn-outline-light:hover {
        background-color: rgba(255,255,255,0.2) !important;
        border-color: #fff !important;
        color: #fff !important;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
    }
</style>
{% endblock %}
